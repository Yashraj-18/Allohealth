(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{7704:function(e,a,l){Promise.resolve().then(l.bind(l,3697))},2513:function(e,a,l){"use strict";l.d(a,{Z:function(){return s}});let s=(0,l(8030).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4817:function(e,a,l){"use strict";l.d(a,{Z:function(){return s}});let s=(0,l(8030).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},3697:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return y}});var s=l(7437),t=l(2265),i=l(6463),r=l(1313),c=l(8726),n=l(2513),o=l(4817),d=l(8030);let m=(0,d.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),x=(0,d.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),h=(0,d.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),u=(0,d.Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var p=l(4241),v=l(2800);let g=["Cardiology","Dermatology","Orthopedics","Pediatrics","Neurology","Oncology","Psychiatry","General Medicine"],j=["Floor 1, Room 101","Floor 1, Room 103","Floor 2, Room 205","Floor 3, Room 301","Floor 2, Room 207","Floor 1, Room 105"];function y(){let[e,a]=(0,t.useState)([]),[l,d]=(0,t.useState)(!0),[y,b]=(0,t.useState)(!1),[f,N]=(0,t.useState)(!1),[w,k]=(0,t.useState)(null),[S,M]=(0,t.useState)({specialization:"",location:"",search:""}),[C,A]=(0,t.useState)({name:"",specialization:"",gender:"male",location:"",phone:"",email:"",availableSlots:[]});(0,i.useRouter)(),(0,t.useEffect)(()=>{z()},[]);let z=async()=>{try{d(!0);let e=await v.vY.getAll(S);200===e.statusCode&&a(e.data)}catch(e){console.error("Error fetching doctors:",e),c.Am.error("Failed to fetch doctors")}finally{d(!1)}},P=e.filter(e=>{let a=!S.specialization||e.specialization===S.specialization,l=!S.location||e.location===S.location,s=!S.search||e.name.toLowerCase().includes(S.search.toLowerCase())||e.specialization.toLowerCase().includes(S.search.toLowerCase());return a&&l&&s}),E=async()=>{if(!C.name||!C.specialization||!C.location||!C.phone||!C.email){c.Am.error("Please fill in all required fields");return}try{let e=await v.vY.create({...C,availableSlots:C.availableSlots.length>0?C.availableSlots:["09:00 AM","10:00 AM","02:00 PM"]});201===e.statusCode&&(await z(),A({name:"",specialization:"",gender:"male",location:"",phone:"",email:"",availableSlots:[]}),b(!1),c.Am.success(e.message))}catch(e){console.error("Error adding doctor:",e),c.Am.error("Failed to add doctor")}},F=async()=>{if(!w||!C.name||!C.specialization||!C.location||!C.phone||!C.email){c.Am.error("Please fill in all required fields");return}try{let e=await v.vY.update(w.id,{...C,availableSlots:C.availableSlots.length>0?C.availableSlots:["09:00 AM","10:00 AM","02:00 PM"]});200===e.statusCode&&(await z(),A({name:"",specialization:"",gender:"male",location:"",phone:"",email:"",availableSlots:[]}),N(!1),k(null),c.Am.success(e.message))}catch(e){console.error("Error updating doctor:",e),c.Am.error("Failed to update doctor")}},Z=async a=>{let l=e.find(e=>e.id===a);if(confirm("Are you sure you want to delete ".concat(null==l?void 0:l.name,"?")))try{let e=await v.vY.delete(a);200===e.statusCode&&(await z(),c.Am.success(e.message))}catch(e){console.error("Error deleting doctor:",e),c.Am.error("Failed to delete doctor")}},D=e=>{k(e),A({name:e.name,specialization:e.specialization,gender:e.gender,location:e.location,phone:e.phone,email:e.email,availableSlots:e.availableSlots}),N(!0)},L=e=>{A(a=>({...a,availableSlots:a.availableSlots.includes(e)?a.availableSlots.filter(a=>a!==e):[...a.availableSlots,e]}))};return(0,s.jsx)(r.Z,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Doctors"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage doctor profiles and availability"})]}),(0,s.jsxs)("button",{onClick:()=>b(!0),className:"btn-primary flex items-center",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4 mr-2"}),"Add Doctor"]})]})}),(0,s.jsx)("div",{className:"card mb-6",children:(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:S.search,onChange:e=>M(a=>({...a,search:e.target.value})),className:"input-field pl-10",placeholder:"Search doctors..."})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),(0,s.jsxs)("select",{value:S.specialization,onChange:e=>M(a=>({...a,specialization:e.target.value})),className:"input-field",children:[(0,s.jsx)("option",{value:"",children:"All Specializations"}),g.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,s.jsxs)("select",{value:S.location,onChange:e=>M(a=>({...a,location:e.target.value})),className:"input-field",children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),j.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)("button",{onClick:()=>M({specialization:"",location:"",search:""}),className:"btn-secondary w-full",children:"Clear Filters"})})]})})}),(y||f)&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,s.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:y?"Add New Doctor":"Edit Doctor"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),(0,s.jsx)("input",{type:"text",value:C.name,onChange:e=>A(a=>({...a,name:e.target.value})),className:"input-field mt-1",placeholder:"Enter doctor name",autoFocus:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Specialization *"}),(0,s.jsxs)("select",{value:C.specialization,onChange:e=>A(a=>({...a,specialization:e.target.value})),className:"input-field mt-1",children:[(0,s.jsx)("option",{value:"",children:"Select specialization"}),g.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),(0,s.jsxs)("select",{value:C.gender,onChange:e=>A(a=>({...a,gender:e.target.value})),className:"input-field mt-1",children:[(0,s.jsx)("option",{value:"male",children:"Male"}),(0,s.jsx)("option",{value:"female",children:"Female"}),(0,s.jsx)("option",{value:"other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Location *"}),(0,s.jsxs)("select",{value:C.location,onChange:e=>A(a=>({...a,location:e.target.value})),className:"input-field mt-1",children:[(0,s.jsx)("option",{value:"",children:"Select location"}),j.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone *"}),(0,s.jsx)("input",{type:"tel",value:C.phone,onChange:e=>A(a=>({...a,phone:e.target.value})),className:"input-field mt-1",placeholder:"Enter phone number"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),(0,s.jsx)("input",{type:"email",value:C.email,onChange:e=>A(a=>({...a,email:e.target.value})),className:"input-field mt-1",placeholder:"Enter email address"})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Time Slots"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM"].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>L(e),className:"px-3 py-2 text-sm rounded-md border ".concat(C.availableSlots.includes(e)?"bg-primary-100 border-primary-300 text-primary-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),children:e},e))})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsx)("button",{onClick:()=>{b(!1),N(!1),k(null)},className:"btn-secondary",children:"Cancel"}),(0,s.jsx)("button",{onClick:y?E:F,className:"btn-primary",children:y?"Add Doctor":"Update Doctor"})]})]})})}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:l?[...Array(6)].map((e,a)=>(0,s.jsx)("div",{className:"card p-6 animate-pulse",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-24"})]})]})},a)):P.map(e=>(0,s.jsxs)("div",{className:"card p-6 hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,s.jsx)(m,{className:"h-6 w-6 text-primary-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.specialization})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>D(e),className:"text-blue-600 hover:text-blue-900",children:(0,s.jsx)(x,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>Z(e.id),className:"text-red-600 hover:text-red-900",children:(0,s.jsx)(h,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(u,{className:"h-4 w-4 mr-2"}),e.location]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),e.availableSlots.length," slots available"]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.phone}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.email})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Slots:"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.availableSlots.slice(0,3).map(e=>(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e},e)),e.availableSlots.length>3&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["+",e.availableSlots.length-3," more"]})]})]})]},e.id))}),!l&&0===P.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(m,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No doctors found"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]})})}}},function(e){e.O(0,[256,726,313,971,23,744],function(){return e(e.s=7704)}),_N_E=e.O()}]);