(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5542:function(e,t,n){Promise.resolve().then(n.bind(n,8212))},6463:function(e,t,n){"use strict";var a=n(1169);n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}})},8212:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(7437),i=n(2265),o=n(6463),r=n(9630);function s(){let e=(0,o.useRouter)(),{user:t,isLoading:n}=(0,r.a)();return(0,i.useEffect)(()=>{n||(t?e.push("/dashboard"):e.push("/login"))},[t,n,e]),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}},9630:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return l},a:function(){return u}});var a=n(7437),i=n(2265),o=n(6463),r=n(2800);let s=(0,i.createContext)(void 0);function l(e){let{children:t}=e,[n,l]=(0,i.useState)(null),[u,c]=(0,i.useState)(!0),d=(0,o.useRouter)();(0,i.useEffect)(()=>{localStorage.getItem("authToken")&&l({id:"1",email:"staff@clinic.com",name:"Front Desk Staff",role:"staff"}),c(!1)},[]);let m=async(e,t)=>{try{if(c(!0),e&&t){let n=await r.kv.login(e,t);if(200===n.statusCode)return localStorage.setItem("authToken",n.data.access_token),l({id:n.data.user.id.toString(),email:n.data.user.email,name:n.data.user.name,role:n.data.user.role}),!0}return!1}catch(e){return console.error("Login error:",e),!1}finally{c(!1)}};return(0,a.jsx)(s.Provider,{value:{user:n,login:m,logout:()=>{localStorage.removeItem("authToken"),l(null),d.push("/login")},isLoading:u},children:t})}function u(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2800:function(e,t,n){"use strict";n.d(t,{CN:function(){return c},kv:function(){return l},mr:function(){return d},vD:function(){return m},vY:function(){return u}});let a=[{id:1,name:"Dr. John Smith",specialization:"Cardiology",gender:"male",location:"Floor 1, Room 101",phone:"+1 234-567-8900",email:"john.smith@clinic.com",availableSlots:["09:00 AM","10:00 AM","02:00 PM","03:00 PM"],isActive:!0},{id:2,name:"Dr. Sarah Johnson",specialization:"Dermatology",gender:"female",location:"Floor 2, Room 205",phone:"+1 234-567-8901",email:"sarah.johnson@clinic.com",availableSlots:["09:30 AM","11:00 AM","02:30 PM","04:00 PM"],isActive:!0},{id:3,name:"Dr. Mike Wilson",specialization:"Orthopedics",gender:"male",location:"Floor 1, Room 103",phone:"+1 234-567-8902",email:"mike.wilson@clinic.com",availableSlots:["10:30 AM","02:00 PM","03:30 PM","04:30 PM"],isActive:!0},{id:4,name:"Dr. Emily Brown",specialization:"Pediatrics",gender:"female",location:"Floor 3, Room 301",phone:"+1 234-567-8903",email:"emily.brown@clinic.com",availableSlots:["09:00 AM","11:30 AM","02:00 PM","03:30 PM"],isActive:!0}],i=[{id:1,patientName:"John Doe",queueNumber:1,status:"waiting",phone:"+1 555-0101"},{id:2,patientName:"Jane Smith",queueNumber:2,status:"with-doctor",phone:"+1 555-0102"},{id:3,patientName:"Bob Johnson",queueNumber:3,status:"waiting",phone:"+1 555-0103"}],o=[{id:1,patientName:"Alice Johnson",doctorId:1,doctorName:"Dr. John Smith",specialization:"Cardiology",appointmentDate:"2025-07-31",appointmentTime:"09:00 AM",status:"scheduled",phone:"+1 555-0201"},{id:2,patientName:"Bob Wilson",doctorId:2,doctorName:"Dr. Sarah Johnson",specialization:"Dermatology",appointmentDate:"2025-07-31",appointmentTime:"10:00 AM",status:"scheduled",phone:"+1 555-0202"},{id:3,patientName:"Carol Davis",doctorId:3,doctorName:"Dr. Mike Wilson",specialization:"Orthopedics",appointmentDate:"2025-08-01",appointmentTime:"02:00 PM",status:"scheduled",phone:"+1 555-0203"}],r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise(t=>setTimeout(t,e))},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success";return{statusCode:200,message:t,data:e}},l={login:async(e,t)=>{if(await r(300),e&&t)return s({access_token:"mock-jwt-token-"+Date.now(),user:{id:1,name:"Admin User",email:e,role:"admin"}},"Login successful");throw Error("Invalid credentials")}},u={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await r();let t=[...a];return e.search&&(t=t.filter(t=>t.name.toLowerCase().includes(e.search.toLowerCase()))),e.specialization&&(t=t.filter(t=>t.specialization.toLowerCase()===e.specialization.toLowerCase())),e.location&&(t=t.filter(t=>t.location.toLowerCase().includes(e.location.toLowerCase()))),s(t,"Doctors retrieved successfully")},getById:async e=>{await r();let t=a.find(t=>t.id===e);if(!t)throw Error("Doctor not found");return s(t,"Doctor retrieved successfully")},create:async e=>{await r();let t={id:Date.now(),...e,isActive:!0};return a.push(t),s(t,"Doctor created successfully")},update:async(e,t)=>{await r();let n=a.findIndex(t=>t.id===e);if(-1===n)throw Error("Doctor not found");return a[n]={...a[n],...t},s(a[n],"Doctor updated successfully")},delete:async e=>{await r();let t=a.findIndex(t=>t.id===e);if(-1===t)throw Error("Doctor not found");return a[t].isActive=!1,s(null,"Doctor deleted successfully")},getAvailableSlots:async(e,t)=>{await r();let n=a.find(t=>t.id===e);if(!n)throw Error("Doctor not found");return s(n.availableSlots,"Available slots retrieved successfully")}},c={getAll:async()=>(await r(),s(i,"Queue retrieved successfully")),getCurrent:async()=>{await r();let e={waiting:i.filter(e=>"waiting"===e.status).length,"with-doctor":i.filter(e=>"with-doctor"===e.status).length,completed:i.filter(e=>"completed"===e.status).length};return s({queue:i,stats:e},"Current queue retrieved successfully")},getStats:async()=>(await r(),s({waiting:i.filter(e=>"waiting"===e.status).length,"with-doctor":i.filter(e=>"with-doctor"===e.status).length,completed:i.filter(e=>"completed"===e.status).length,total:i.length},"Queue stats retrieved successfully")),addPatient:async e=>{await r();let t={id:Date.now(),queueNumber:i.length+1,status:"waiting",patientName:e.patientName,phone:e.phone||"",timestamp:new Date().toISOString(),createdAt:new Date().toISOString()};return i.push(t),s(t,"Patient added to queue successfully")},updateStatus:async(e,t)=>{await r();let n=i.findIndex(t=>t.id===e);if(-1===n)throw Error("Patient not found in queue");return i[n].status=t,s(i[n],"Queue status updated successfully")},remove:async e=>{await r();let t=i.findIndex(t=>t.id===e);if(-1===t)throw Error("Patient not found in queue");return i.splice(t,1),s(null,"Patient removed from queue successfully")}},d={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await r();let t=[...o];return e.search&&(t=t.filter(t=>t.patientName.toLowerCase().includes(e.search.toLowerCase())||t.doctorName.toLowerCase().includes(e.search.toLowerCase()))),e.doctorId&&(t=t.filter(t=>t.doctorId===e.doctorId)),e.date&&(t=t.filter(t=>t.appointmentDate===e.date)),e.status&&(t=t.filter(t=>t.status===e.status)),s(t,"Appointments retrieved successfully")},getToday:async()=>{await r();let e=new Date().toISOString().split("T")[0];return s(o.filter(t=>t.appointmentDate===e),"Today's appointments retrieved successfully")},getStats:async()=>{await r();let e=new Date().toISOString().split("T")[0];return s({total:o.length,today:o.filter(t=>t.appointmentDate===e).length,scheduled:o.filter(e=>"scheduled"===e.status).length,completed:o.filter(e=>"completed"===e.status).length,cancelled:o.filter(e=>"cancelled"===e.status).length},"Appointment stats retrieved successfully")},create:async e=>{await r();let t=a.find(t=>t.id===e.doctorId),n={id:Date.now(),doctorName:(null==t?void 0:t.name)||"Unknown Doctor",specialization:(null==t?void 0:t.specialization)||"Unknown",status:"scheduled",...e};return o.push(n),s(n,"Appointment created successfully")},update:async(e,t)=>{await r();let n=o.findIndex(t=>t.id===e);if(-1===n)throw Error("Appointment not found");let i=a.find(e=>e.id===t.doctorId);return i&&(t.doctorName=i.name,t.specialization=i.specialization),o[n]={...o[n],...t},s(o[n],"Appointment updated successfully")},cancel:async e=>{await r();let t=o.findIndex(t=>t.id===e);if(-1===t)throw Error("Appointment not found");return o.splice(t,1),s(null,"Appointment cancelled successfully")}},m={getStats:async()=>{await r();let e=new Date().toISOString().split("T")[0];return s({totalDoctors:a.filter(e=>e.isActive).length,todayAppointments:o.filter(t=>t.appointmentDate===e).length,patientsInQueue:i.filter(e=>"waiting"===e.status).length,completedToday:o.filter(t=>t.appointmentDate===e&&"completed"===t.status).length},"Dashboard stats retrieved successfully")}}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=5542)}),_N_E=e.O()}]);